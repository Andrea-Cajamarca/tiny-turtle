<!DOCTYPE html>
<meta charset="utf-8">
<title>TinyTurtle Lab</title>
<style>
canvas {
  border: 1px dotted gray;
}

.code {
  display: block;
}

.error {
  background: pink;
  min-height: 2em;
  /* Errors can take some time to fade in b/c we don't want to
   * needlessly distract the user. */
  transition: opacity 1s 0.25s;
}

.error:not(.shown) {
  opacity: 0;
  /* Errors should disappear instantaneously to let the user know
   * everything is okay now. */
  transition: opacity 0.25s 0.01s;
}
</style>
<a href="https://github.com/toolness/tiny-turtle"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
<h1>TinyTurtle Lab</h1>
<div id="lab">
  <canvas class="canvas" width="200" height="200"></canvas>
  <div class="error"></div>
  <textarea class="code" rows="20" cols="50"></textarea>
</div>
<div id="timeout-msg" style="display: none">
  Your code has taken too long to execute. Perhaps it contains
  an infinite loop?
</div>
<button onclick="TogetherJS(this); return false;">Start TogetherJS</button>
<script id="sample" type="javascript/sample-code">
function box(length) {
  for (var i = 0; i < 4; i++) {
    forward(length);
    right(90);
  }
}

penStyle = 'purple';
box(90);
left(10);
box(80);
left(10);
box(70);
stamp();
</script>
<script src="tiny-turtle.js"></script>
<script src="index.js"></script>
<script>
var $ = document.querySelector.bind(document);
Lab($("#lab"), {
  defaultContent: $("#sample").textContent.trim(),
  workerTimeoutMsg: $("#timeout-msg").textContent
});
</script>
<script src="https://togetherjs.com/togetherjs-min.js"></script>
